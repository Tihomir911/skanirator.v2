#:kivy 2.2.1

<MainScreen>:
    orientation: 'vertical'
    spacing: 20
    padding: 20
    canvas.before:
        Color:
            rgba: 0, 0, 0, 1  # –ß–µ—Ä–Ω—ã–π —Ñ–æ–Ω
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: 'horizontal'
        size_hint_y: 0.2
        spacing: 10

        Image:
            source: "logo.png"
            size_hint_x: 0.3
            allow_stretch: True
            keep_ratio: True

        Label:
            text: "Skanirator"
            font_size: '28sp'
            bold: True
            color: 1, 1, 1, 1
            halign: 'left'
            valign: 'middle'

    BoxLayout:
        size_hint_y: None
        height: 2
        canvas.before:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                pos: self.pos
                size: self.size

    BoxLayout:
        id: main_menu
        orientation: 'vertical'
        spacing: 20
        padding: 40
        size_hint_y: None
        height: self.minimum_height

        Button:
            text: "üì∑ –û—Ç—Å–∫–∞–Ω–∏—Ä—É–π QR"
            font_size: 20
            size_hint_y: None
            height: 60
            background_color: 1, 1, 1, 1
            color: 0, 0, 0, 1
            on_release: root.show_scanner()

        Button:
            text: "üîó –í—Å—Ç–∞–≤—å —Å—Å—ã–ª–∫—É"
            font_size: 20
            size_hint_y: None
            height: 60
            background_color: 1, 1, 1, 1
            color: 0, 0, 0, 1
            on_release: root.show_link_input()

    BoxLayout:
        id: scanner_area
        orientation: 'vertical'
        opacity: 0
        size_hint_y: None
        height: 400

        Label:
            text: "[–±–µ–ª–∞—è –ª–∏–Ω–∏—è —Å–∫–∞–Ω–µ—Ä–∞ –±—É–¥–µ—Ç —Ç—É—Ç]"
            color: 1, 1, 1, 1
            font_size: 20
            halign: 'center'

    BoxLayout:
        id: link_area
        orientation: 'vertical'
        opacity: 0
        spacing: 10
        size_hint_y: None
        height: 200
        padding: 10

        TextInput:
            id: link_input
            hint_text: "–í—Å—Ç–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É"
            multiline: False
            background_color: 0.2, 0.2, 0.2, 1
            foreground_color: 1, 1, 1, 1
            cursor_color: 1, 1, 1, 1
            canvas.before:
                Color:
                    rgba: 1, 1, 1, 1
                Line:
                    width: 2
                    rectangle: self.x, self.y, self.width, self.height

        Button:
            text: "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Å—ã–ª–∫—É"
            size_hint_y: None
            height: 50
            background_color: 1, 1, 1, 1
            color: 0, 0, 0, 1
            on_release: root.analyze_link(link_input.text)

    Label:
        id: result_label
        text: ""
        font_size: 18
        color: 0, 1, 0, 1  # –ó–µ–ª–µ–Ω—ã–π –∏–ª–∏ –∫—Ä–∞—Å–Ω—ã–π –≤ –∫–æ–¥–µ
        halign: 'center'
